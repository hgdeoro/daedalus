{% extends "base.html" %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
</head>
<body>

	{% block container %}

	<p>
		<a class="btn btn-mini btn-inverse"
			href="{% url hgdeoro.lolog.web.frontend.views.home %}">ALL</a>
		&nbsp; | &nbsp; <!-- .............................. -->
		<a class="btn btn-mini btn-danger"
			href="{% url hgdeoro.lolog.web.frontend.views.search_by_severity 'ERROR' %}">ERROR</a>
		<a class="btn btn-mini btn-warning"
			href="{% url hgdeoro.lolog.web.frontend.views.search_by_severity 'WARN' %}">WARN</a>
		<a class="btn btn-mini btn-info"
			href="{% url hgdeoro.lolog.web.frontend.views.search_by_severity 'INFO' %}">INFO</a>
		<a class="btn btn-mini"
			href="{% url hgdeoro.lolog.web.frontend.views.search_by_severity 'DEBUG' %}">DEBUG</a>
		&nbsp; | &nbsp; <!-- .............................. -->
		{% for app in app_list %}
			<a class="btn btn-mini btn-success"
				href="{% url hgdeoro.lolog.web.frontend.views.search_by_application app %}">{{ app }}</a>
		{% endfor %}
	</p>

	<table class="table table-striped table-condensed">
		<thead>
			<tr>
				<th>Date</th>
				<th>Application</th>
				<th>Severity</th>
				<th>Message</th>
			</tr>
		</thead>
		<tbody>
			{% for item in result %}
			<tr>
				<td>{{ item.timestamp_|date:'SHORT_DATETIME_FORMAT' }}</td>
				<td>{{ item.application }}</td>
				<td>
					{% if item.severity == 'ERROR' %}
						<span class="label label-important">{{ item.severity }}</span>
					{% elif item.severity == 'WARN' %}
						<span class="label label-warning">{{ item.severity }}</span>
					{% elif item.severity == 'INFO' %}
						<span class="label label-info">{{ item.severity }}</span>
					{% elif item.severity == 'DEBUG' %}
						<span class="label">{{ item.severity }}</span>
					{% else %}
						<span class="label">{{ item.severity }}</span>
					{% endif %}
				</td>
				<td>{{ item.message|truncatechars:120 }}</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>

	{% endblock container %}

</body>
</html>
